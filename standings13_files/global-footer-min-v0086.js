CBSi.namespace("app.GlobalNavigation");(function(b){var a={nfl:"NFL",mlb:"MLB",nba:"NBA",nhl:"NHL","college football":"CollegeFootball",collegefootball:"CollegeFootball","college basketball":"CollegeBasketball",collegebasketball:"CollegeBasketball",golf:"Golf",tennis:"Tennis",autoracing:"NASCAR",video:"Video",olympics:"Olympics",maxpreps:"HighSchool","fantasy news":"Fantasy"};CBSi.app.GlobalNavigation=function(c){if(typeof(c)!="object"){c={}}this.jsDebug=(typeof(c.jsDebug)!="undefined")?c.jsDebug:0;this.mediaDomain=CBSi.mediaHttpServer;this.imageDomain=CBSi.imageServer;this.navContainer=".globalNavContainer";this.navSel='.globalMain li[menu^="menu_"],  .globalMainFantasy li[menu^="menu_"],  #fastFactsNav li[menu^="menu_ff"]';this.menusSel='div[id^="menu_"], #fastFactsMenus div[id^="menu_ff"]';this.noMenusSel='.globalMain li[menu="none"], .globalMainFantasy li[menu="none"]';this.ffPattern=/_ff/i;this.morePattern=/_more/i;this.ffyCoordOffset=(typeof(c.ffyCoordOffset)!="undefined")?c.ffyCoordOffset:"";this.movedMore=0;this.menuShowTimer=0;this.menuShowTimeout=(typeof(c.menuShow)!="undefined")?c.menuShow:250;this.menuHideTimer=0;this.menuHideTimeout=(typeof(c.menuHide)!="undefined")?c.menuHide:250;this.currMenu;this.currCategory;this.headlinesLimit=7;this.navData={};this.categories=[];this.config={}};CBSi.app.GlobalNavigation.prototype={init:function(d){this.navData=d||{};this.debug("init navData",this.navData,1);this.config=this.navData.config;this.extras=this.navData.extras;var c=this;b(this.navContainer).delegate(this.navSel,"touchstart",function(h){h.preventDefault();targetEl=h.target;c.hideMenu();var g=this;c.showMenu(g);var f=b(targetEl).parent().attr("id");if(typeof(c.currCategory)!="undefined"&&c.currCategory==f){c.hideMenu();c.currCategory=undefined}else{c.currCategory=f}});b(this.menusSel).hover(function(){if(c.menuHideTimer){clearTimeout(c.menuHideTimer)}},function(){c.menuHideTimer=setTimeout(function(){c.hideMenu()},c.menuHideTimeout)});b(this.navSel).hover(function(g){if(c.menuHideTimer){clearTimeout(c.menuHideTimer)}var h=b(this).attr("menu");c.hideMenu(h);var f=this;c.menuShowTimer=setTimeout(function(){c.showMenu(f)},c.menuShowTimeout)},function(){c.menuHideTimer=setTimeout(function(){c.hideMenu()},c.menuHideTimeout);clearTimeout(c.menuShowTimer)});b(this.noMenusSel).hover(function(){b(c.navSel).removeClass("navHover");c.hideMenu();b(this).toggleClass("navHover")},function(){b(this).toggleClass("navHover")});this.getArenas();this.buildContent()},showMenu:function(h){var j=b(h).attr("menu");var f=[];var g=j.match(this.ffPattern);var c=j.match(this.morePattern);var d=(g)?29:22;if(g){f=this.positionMenu(h,j)}if(c){var e=b("#nav_more").offset();if(this.movedMore==0){b("#menu_more").offset({top:90,left:e.left});this.movedMore=1}}if(g&&(this.ffyCoordOffset&&this.ffyCoordOffset>0)){d=this.ffyCoordOffset}b("#"+j).css({visibility:"visible",left:f[0]+"px",top:(f[1]+d)+"px",display:""});f=null;this.loadImages(j);this.currMenu=j;b(h).addClass("navHover");h=null},hideMenu:function(c){if(c==="all"){this.debug("hideMenu all menus",b(this.menusSel),1);b(this.menusSel).hide();return}if(!this.currMenu&&c){this.currMenu=c}if(c===this.currMenu){return}if(b("#"+this.currMenu).get()){b("#"+this.currMenu).hide()}else{b(this.menusSel).hide()}b(this.navSel).removeClass("navHover")},positionMenu:function(g,h){var c=b(g).offset().left;var j=b(g).offset().top;var e=[c,j];var f=b("#"+h).outerWidth();var d=b(window).width();if(c+f>d){e=[d-f,j]}c=j=f=d=null;return e},loadImages:function(e){var d=b("#"+e);var c=d.find("img").each(function(){b(this).attr("src",b(this).attr("deferredsrc"));b(this).removeAttr("deferredsrc")});return},update:function(c){this.debug("update",c,1);if(!c){return}if(c.arena){b(this.navSel).filter("li.active").removeClass("active");var d=b("li#nav_"+c.arena);if(b(d).length>0){b(d).addClass("active")}}return},getArenas:function(){var c=[];for(var d in this.navData){c.push(d)}this.categories=c;c=null},buildContent:function(){var h=this.categories.length;for(k=0;k<h;k++){var d=this.categories[k];if(typeof(this.config[d])=="undefined"||this.config[d].active==0){continue}var f="#menu_"+this.config[d].domEl;if(b(f).get()&&this.config[d].active==1){var g=this.config[d].cover;var j=this.config[d].headlines;if(g==false&&j==false){continue}var e=false;var l=false;if(g==true&&this.navData[d].minicover){var m;if(this.navData[d].minicover&&this.navData[d].minicover.body){m=this.navData[d].minicover;this.buildCover(d,m)}else{e=true}m=null}else{e=true;b("#cover_"+d).hide()}if(j==true&&this.navData[d].headlines){var c=[];c=this.navData[d].headlines;if(typeof(c)!="undefined"&&c.length>0){this.buildHeadlines(d,c)}else{l=true}c=null}else{l=true}}if(e==true&&l==true){this.hideContent(d)}newsEl=null}this.buildExtraItems()},hideContent:function(c){try{b("#menu_"+menuName).removeClass("arenaNews");b("#news_"+menuName).hide()}catch(d){}return},buildHeadlines:function(g,c){try{var m=(g=="video")?"Top Videos":"Top Headlines";var h=this.buildHeadlineItems(g,c);b("ul#headlines_"+this.config[g].domEl)[0].innerHTML=h;if(g=="video"&&this.config[g].ulive==1&&this.navData[g].ulive.headlines&&this.navData[g].ulive.header){var l=this.navData[g].ulive.header;var d='<ul class="headlines uLiveHeadlines">'+this.buildHeadlineItems(g,this.navData[g].ulive.headlines)+"</ul>";var f=l+d;b("ul#headlines_"+this.config[g].domEl).after(f)}h=null}catch(j){}return},buildExtraItems:function(){for(var f in this.extras){if(this.extras.hasOwnProperty(f)){for(var e=0;e<this.extras[f].links.length;e++){var c="#extras_"+f;var d=('<li><a href="'+this.extras[f].links[e].href+'" om-nope="GlobalNav|'+a[f]+"|Seasonal|"+this.extras[f].links[e].content+'">'+this.extras[f].links[e].content+"</a></li>");b(c).append(d)}}}},buildHeadlineItems:function(f,g){if(!g){return}var e="";var d=this;var c=this.mediaDomain;b(g).each(function(o){if(o>=this.headlinesLimit){return false}var j=b(this).attr("href");var r=new String(j);if((r.indexOf("http:")==-1)&&(r.indexOf("javascript")==-1)){r=c+j}var s=b(this).attr("content");s=s.replace(/'/g,"'");s=s.replace(/&lt;/gi,"<");s=s.replace(/&gt;/gi,">");var l=b(this).attr("target");var p=(l&&typeof(l)!="undefined")?' target="'+l+'"':"";var m=b(this).attr("title");var q=(m&&typeof(m)!="undefined")?' title="'+m+'"':"";var n=' om-nope="GlobalNav|'+a[f]+'|Headlines"';var h=' href="'+r+'"';h+=p;h+=q;h+=n;e+="<li><a "+h+">"+s+"</a></li>"});return e},buildCover:function(g,q){try{var o=b("div#cover_"+this.config[g].domEl);if(o){var p;var m=0;if(q.href&&typeof(q.href)!="undefined"){m=1;var l=this.mediaDomain;if((q.href.indexOf("http:")==-1)&&(q.href.indexOf("javascript")==-1)){if(g=="fantasy news"){l="http://fantasynews.cbssports.com"}p=l+q.href}else{p=q.href}}if(p.indexOf("collegebasketball/video/cbk-live")>=0){p="/collegebasketall/video/cbk-live\" onclick=\"openPopup(this,'SECLive',1024,810);return false;"}var c=231;var h=130;var j="<figure>";var d=' om-nope="GlobalNav|'+a[g]+'|Cover|Photo"';if(q.photo&&q.photo.href){var f=q.photo.href;f=f.replace("$IMAGE_SERVER","http://sports.cbsimg.net");j+=(m==1)?'<a href="'+p+'"'+d+">":"";j+='<img deferredSrc="'+f+'" width="'+c+'" height="'+h+'" border="0" alt="'+g+' story thumbnail" title="'+q.title+'">';j+=(m==1)?"</a>":""}j+=(m==1)?'<a href="'+p+'"'+d+">":"";j+='<figcaption class="navMenuCaption fontUbuntuBold">'+q.title+"</figcaption>";j+=(m==1)?"</a>":"";j+="</figure>";if(q.body&&q.body.length>0){j+="<p>"+q.body+"</p>"}o[0].innerHTML=j;o=null}}catch(n){}return},debug:function(e,d,c){var d=d||"";var c=c||"";if(!c||this.jsDebug!=1){return}if(typeof(e)!="undefined"){if(typeof(d)!="undefined"&&d!=""){e=e+" = "}if(window.console&&console.debug){console.debug(e,d)}}return}}}(jQuery));CBSi.namespace("widget.ProfanityFilter");(function(){CBSi.widget.ProfanityFilter={init:function(){var b='<span class="swearOff">****</span>';var a=$("span.swear, span.swearOn");a.each(function(){if(!$(this).next("span").hasClass("swearOff")){$(this).after(b)}});a.hide();a=null;return}}})();CBSi.namespace("CBSi.app.SAAG");(function(b){var a={containerId:"#saagWrapper",saagId:"#saagScores",scoresExtraId:"#saagScoresExtras",scoresListId:"#saagScoresList",leagueMenuSel:".leagueSelector",leagueSelNavigation:".leagueSelectorArrow",leagueMenuName:".leagueName",leagueMenuSubTitle:".saagSubTitle",leagueMenuActiveClass:"leagueSelActive",leagueListSel:".leagueList",navScoreboardSel:".saagFullScoreBoard",previousNavigation:"#saagWrapper span.saagNav.prevArrow",nextNavigation:"#saagWrapper span.saagNav.nextArrow",navigationDeactivateClass:"arrowDeactivate",navigationSliderDeactivate:"suppressSAAGSlider",sliderSpeed:400};CBSi.app.SAAG={init:function(f){if(typeof(f)!="object"){f={}}this.activeCategory=(typeof(f.activeCategory)!="undefined")?f.activeCategory:0;this.categories=(typeof(f.categories)!="undefined")?f.categories:0;this.categoryNum=(typeof(f.categoryNum)!="undefined")?f.categoryNum:"";this.omnitureArena=(typeof(f.omnitureArena)!="undefined")?f.omnitureArena:f.activeCategory;if(typeof(f.categoryNum)!="undefined"&&f.categoryNum<=1){b(a.leagueSelNavigation).remove();b(a.leagueListSel).remove()}this.suppressNextPrevNavigation=(typeof(f.suppressNextPrevNavigation)!="undefined")?f.suppressNextPrevNavigation:"";var g=b(a.previousNavigation);var c=b(a.nextNavigation);this.promo=(typeof(f.promo)!="undefined"&&typeof(f)=="object")?f.promo:"";this.promoSport=(this.promo!="undefined"&&this.promo.sport)?this.promo.sport:"";this.promoType=(this.promo!="undefined"&&this.promo.type)?this.promo.type:"";this.promoStatus=(this.promo!="undefined"&&this.promo.status)?this.promo.status:"";this.promoCSS=(this.promo!="undefined"&&this.promo.cssClass)?this.promo.cssClass:"";this.promoLabel=(this.promo!="undefined"&&this.promo.label)?this.promo.label:"";b(a.scoresListId).css("top","-40px");if(this.activeCategory){this.loadContent(this.activeCategory)}else{b(a.scoresListId).animate({top:"0px"},"fast");this.configBoxScores()}var e=this;b(a.containerId).delegate(a.leagueMenuSel,"click",function(j){b(this).toggleClass(a.leagueMenuActiveClass)});b(a.containerId).delegate(".leagueList li","touchstart",function(j){targetEl=j.target;b(targetEl).addClass(a.leagueMenuActiveClass)});b(a.containerId).delegate(".leagueList li","touchend",function(j){targetEl=j.target;b(targetEl).removeClass(a.leagueMenuActiveClass)});b(a.containerId+" "+a.leagueMenuSel).delegate(".leagueList li","click",function(l){targetEl=l.target;var j=b(targetEl).attr("data-category");e.loadContent(j)});b(a.scoresListId).delegate("ul li","click",function(p){var l=b(this).parent("ul").attr("data-category");var o=(typeof(l)!="undefined")?l:"";var n=e.omnitureArena;var j="saag|"+n+"|boxscore|"+o;try{}catch(m){}});b(a.containerId).delegate(a.previousNavigation,"click",function(l){var m=l.target;e.slidePrevious();m=null;try{}catch(j){}return false});b(a.containerId).delegate(a.nextNavigation,"click",function(l){var m=l.target;e.slideNext();m=null;try{}catch(j){}return false});var h=b.fn.jquery;var d=Math.round(parseFloat(h)*100)/100;if(d>=1.8){b(a.previousNavigation).on("click",function(l){var m=l.target;e.slidePrevious(m);m=null;try{}catch(j){}return false});b(a.nextNavigation).on("click",function(l){var m=l.target;e.slideNext(m);m=null;try{}catch(j){}return false})}},slidePrevious:function(){var d=this;if(d.navigationWidthArr.length<1){return}var h=b(d.slideEl);if(typeof(d.slideEl)=="undefined"){var h=b(a.scoresListId).children("ul")}var e=b(a.previousNavigation);var c=b(a.nextNavigation);var f=d.navigationIndex-1;var g;if(d.navigationIndex>=0){g=d.navigationWidthArr[f]}if(f==0){e.addClass(a.navigationDeactivateClass);d.navigationIndex=0}if(g&&g>0){if(d.navigationIndex>1){d.navigationIndex-=1}h.filter(":not(:animated)").animate({left:"+="+g},a.sliderSpeed,function(){c.removeClass(a.navigationDeactivateClass)})}h=null;return false},slideNext:function(){var d=this;if(d.navigationWidthArr.length<1){return}var g=b(d.slideEl);if(typeof(d.slideEl)=="undefined"){var g=b(a.scoresListId).children("ul")}var e=b(a.previousNavigation);var c=b(a.nextNavigation);var f;if(d.navigationIndex>=d.navigationIdxLimit){c.addClass(a.navigationDeactivateClass);d.navigationIndex=d.navigationIdxLimit}else{f=d.navigationWidthArr[d.navigationIndex]}if(f&&f>0){g.filter(":not(:animated)").animate({left:"-="+f},a.sliderSpeed,function(){e.removeClass(a.navigationDeactivateClass);d.navigationIndex=d.navigationIndex+1;if(d.navigationIndex>=d.navigationIdxLimit){c.addClass(a.navigationDeactivateClass)}})}g=null;return false},loadContent:function(f){var f=f;var d=this.categories[f].content_url;if(!d||!f){return}var n=this;var c=n.omnitureArena;if(f==n.promoSport){if(n.promoType=="eventPromo"){b(a.saagId).addClass(n.promoCSS);b(a.scoresExtraId).addClass("show")}else{b(a.saagId).removeClass(n.promoCSS);b(a.scoresExtraId).removeClass("show")}if(f=="nfl"&&n.promoType=="draft"){b(a.saagId).addClass("saagDraftNFL");b(a.saagId).css("background","none");var h=n.promoLabel;if(n.promoStatus=="live"){b(a.scoresExtraId).show();b(a.scoresExtraId)[0].innerHTML="<h4>"+h+'</h4><div class="teamPick"></div><div class="teamPickNumber"></div>';this.getDraftContent()}else{if(n.promoStatus=="suspended"){b(a.saagId).addClass("saagDraftNFLSuspended");b(a.scoresExtraId).hide()}else{b(a.saagId).removeClass("saagDraftNFL");b(a.scoresExtraId).hide()}}}if(f=="nba"&&n.promoType=="draft"){b(a.saagId).addClass("saagDraftNBA");b(a.saagId).css("background","none");var h=n.promoLabel;if(n.promoStatus=="live"){b(a.scoresExtraId).show();b(a.scoresExtraId)[0].innerHTML="<h4>"+h+'</h4><div class="teamPick"></div><div class="teamPickNumber"></div>';this.getDraftContent()}else{b(a.saagId).removeClass("saagDraftNBA");b(a.scoresExtraId).hide()}}}else{b(a.saagId).removeClass(n.promoCSS);b(a.scoresExtraId).removeClass("show")}var l=b(a.previousNavigation);var m=b(a.nextNavigation);if(n.suppressNextPrevNavigation&&n.suppressNextPrevNavigation==f){b(a.containerId).addClass(a.navigationSliderDeactivate)}else{b(a.containerId).removeClass(a.navigationSliderDeactivate)}var g="%a<br />%I:%M %P";try{b.ajax({type:"GET",url:d,dataType:"html",async:false,success:function(e,p){n.saagCategory=f;b(a.scoresListId).css("top","-40px");b(a.scoresListId)[0].innerHTML=e;var o=b("#saagScoresList .boxScore span.gmtTime").attr("data-gmt-format");g=(o)?o:g;CBSi.widget.Time.update(".boxScore .gmtTime",g);b(a.scoresListId).animate({top:"0px"},"fast");n.updateNavigation(f);n.configBoxScores(f)},error:function(o,p,e){}})}catch(j){}return},reRenderSaag:function(){var c=this;c.updateNavigation(c.saagCategory);c.configBoxScores(c.saagCategory)},updateNavigation:function(e){if(!e){return}var j=this.categories[e].menu_title;var l=this.categories[e].menu_subtitle;var d=(this.categories[e].scoreboard_title)?this.categories[e].scoreboard_title:(j=="My")?"All":(j=="World Cup")?"World Cup":"Full "+j;var m=this.categories[e].scoreboard_subtitle;var f=this.categories[e].scoreboard_url;var c=this.omnitureArena;var h="saag|"+c+"|fullscoreboard|"+e;var g='<a href="'+f+'" om-nope="'+h+'">';g+=d+"<br />";g+=m+"</a>";b(a.leagueMenuSel+" "+a.leagueMenuName)[0].innerHTML=j;b(a.leagueMenuSel+" "+a.leagueMenuSubTitle)[0].innerHTML=l;if(b(a.navScoreboardSel).length>0){b(a.navScoreboardSel)[0].innerHTML=g}return},configBoxScores:function(c){this.sliderVisibleWidth=b(a.saagId).width();var g=b(a.previousNavigation);var l=b(a.nextNavigation);g.addClass(a.navigationDeactivateClass);l.addClass(a.navigationDeactivateClass);this.slideEl=b(a.scoresListId).children("ul");this.scoresListItems=b(this.slideEl).children("li");var d=b(this.scoresListItems);this.maxItems=this.scoresListItems.length;this.lastScoreIdx=this.maxItems-1;var h=90;d.find("table.boxScore").each(function(){var n=b(this).width();h=(n>h)?n:h});this.scoresListWidth=b(this.slideEl).width();if(!this.scoresListWidth){g.addClass(a.navigationDeactivateClass);l.addClass(a.navigationDeactivateClass);return}if(this.scoresListWidth>this.sliderVisibleWidth){l.removeClass(a.navigationDeactivateClass)}if(this.scoresListWidth<this.sliderVisibleWidth){l.addClass(a.navigationDeactivateClass)}var m=this;this.navigationWidthArr=new Array();var e=0;var j=0;var f=0;b(this.scoresListItems).each(function(){var r=b(this);var s=r.index();var o=r.position().left;o=Math.round(o);var q=r.outerWidth(true);if(f==0){f=q}var n=r.width();e+=q-2;if(e>m.sliderVisibleWidth){var p;if(o<=m.sliderVisibleWidth){p=o-2}else{p=o-2-j}m.navigationWidthArr.push(p);e=f;j+=p;f=q}});if(this.navigationWidthArr.length==0){l.addClass(a.navigationDeactivateClass)}this.navigationIdxLimit=this.navigationWidthArr.length;this.navigationIndex=0;return},getDraftContent:function(){var f=CBSi.mediaHttpServer+"/data/nfl/draft/results?as=json";var c;var d=this;try{b.getJSON(f,function(l){var h=[];var e;b.each(l,function(m,n){if(m=="current_round"){e=l.current_round}});if(e.selection>0&&e.team.abbr){var j='<img src="http://sports.cbsimg.net/images/nfl/logos/25x25/'+e.team.abbr+'.png" height="25" width="25" alt="team logo" />';b(a.scoresExtraId+" div.teamPick")[0].innerHTML='<a href="/nfl/draft/drafttracker">'+j+"</a>";b(a.scoresExtraId+" div.teamPickNumber")[0].innerHTML='<a href="/nfl/draft/drafttracker"><div>Pick</div>'+e.selection+"</a>"}})}catch(g){}}}}(jQuery));function showMobileLink(){if((typeof(iPhone)!="undefined"&&iPhone>0)||(typeof(isAndroid)!="undefined"&&isAndroid>0)){var a=$("#mobileLink");if($("#mobileLink").length<0){return}$("#mobileLink")[0].innerHTML=' | <a href="/mobile/redirect/iphone" sjxnot="1">Mobile Site</a>';$("#mobileLink").show()}return}function memberShareLinks(){}memberShareLinks.allowClose=false;memberShareLinks.showButtons=function(b){this.allowClose=false;var a=document.getElementById("topMemberPanels");if(typeof(a)!="undefined"){var c=b;a.style.visibility="visible";YAHOO.util.Dom.setXY(a,c);hoverPopup.displayPointer()}};memberShareLinks.shareOff=function(){var a=document.getElementById("topMemberPanels");if(this.allowClose==true&&typeof(a)!="undefined"){a.style.visibility="hidden";hoverPopup.displayPointer("none")}};memberShareLinks.hideButtons=function(){this.allowClose=true;setTimeout("memberShareLinks.shareOff()",2000)};memberShareLinks.showActive=function(){this.allowClose=false};var hoverPopup={getCoords:function(a,d,c){var b=YAHOO.util.Dom.getXY(a);b[0]-=d;b[1]+=c;return b},displayPointer:function(a){var b=document.getElementById("topMemberPanelPointer");if(typeof(b)!="undefined"){if(a=="none"){b.style.visibility="hidden"}else{b.style.visibility="visible"}}}};function CBSi_renderMember(json){if(YAHOO.util.Event.onDOMReady&&typeof(json)!="undefined"){var profileObject=eval("("+unescape(json)+")");if(document.getElementById("topMemberFavorites")!="undefined"){CBSi_processOnlineMembers(profileObject)}}}function CBSi_processFavTeams(json){var profileObject=eval("("+unescape(json)+")");if(document.getElementById("topTeamsFavorites")!="undefined"){CBSi_processTeams(profileObject)}}function CBSi_processContent(a){var b=document.getElementById("topMemberPanelContent");var c=document.getElementById(a);if(typeof(b)!="undefined"&&typeof(c)!="undefined"){b.innerHTML=c.innerHTML}}function CBSi_processOnlineMembers(h){var a=(typeof(CBSi.mediaHttpServer)=="undefined")?"http://www.cbssports.com":CBSi.mediaHttpServer;var p=a+"/mcc/authors/author";var o=a+"/mcc/";var r="http://sports.cbsimg.net/images/mcc/anonymous.gif";var l=[];if(h.MCC&&h.MCC.profileType=="MCC"){l.push('<p><a href="'+p+'">Your Favorite Members</a> | <a href="'+o+'">View All</a></p>')}else{l.push('<p><a href="'+o+'">Top Members Online</a></p>')}l.push("<ul>");var f=0;if(h.MCC&&h.MCC.favs&&h.MCC.favs.author&&h.MCC.favs.author.length>0){f=1}var b=7;var c=0;if(f&&h.MCC.favs.author.length>b){c=b}else{if(f&&h.MCC.favs.author.length){c=h.MCC.favs.author.length}else{c=b}}if(f==1){for(var g=0;g<c;g++){l.push("<li>");var n=h.MCC.favs.author[g]["author-id"];var q=h.MCC.favs.author[g]["logo-small"];l.push('<div id="topMember'+g+'" onMouseOver="CBSi_processContent(\'topMemberPanel_'+n+"'); memberShareLinks.showButtons(hoverPopup.getCoords('topMember"+g+'\',48,31));" onMouseOut="memberShareLinks.hideButtons();">');l.push('<a href="/mcc/authors/author/'+n+'">');l.push('<img border="0" width="25" height="22" src="'+q+'" />');l.push("</a>");l.push(drawMember(h.MCC.favs.author[g]));l.push("</div>");l.push("</li>")}}n=q=null;for(var d=c;d<b;d++){l.push('<li><img width="25" height="22" src="'+r+'" alt="member" /></li>')}l.push("</ul>");if(h.MCC&&h.MCC.MemberCount){l.push("<p>Total Members Online: "+h.MCC.MemberCount+"</p>")}try{document.getElementById("topMemberFavorites").innerHTML=l.join("")}catch(m){}}function drawMember(b){var a=(typeof(CBSi.mediaHttpServer)=="undefined")?"http://www.cbssports.com":CBSi.mediaHttpServer;var g=b["author-id"];var f=b["screen-name"];var h=a+"/mcc/authors/author/"+g;var e=a+"/mcc/messages/message/"+b.last_post.mccid;var d=[];d.push('<div id="topMemberPanel_'+g+'" style="display:none; width:0px; height:0px;">');for(var c=0;c<b.badges.badge.length;c++){d.push('<img border="0" width="20" height="20" src="'+b.badges.badge[c].logo+'" />')}d.push('<a href="'+h+'">&nbsp;'+f+"</a><br />");d.push('<strong>Last Post: </strong><a href="'+e+'">'+b.last_post.prettyTime+"</a>");d.push("</div>");return d.join("")}function CBSi_processTeams(f){var a=(typeof(CBSi.mediaHttpServer)=="undefined")?"http://www.cbssports.com":CBSi.mediaHttpServer;var g=document.getElementById("topTeamsFavorites");if(typeof(g)!="undefined"){var p=[{arena:"NFL",path:"nfl"},{arena:"MLB",path:"mlb"},{arena:"NBA",path:"nba"},{arena:"NCAAF",path:"collegefootball"},{arena:"NCAAB",path:"collegebasketball"},{arena:"NHL",path:"nhl"}];var j=[];var o=[];var h='<img src="http://sports.cbsimg.net/images/mcc/team_bg.gif" height="15" width="16" border="0" />';var d,n,c,b;for(i=0;i<p.length;i++){var d=f.TEAMS[p[i].arena];var m="/"+p[i].path+"/teams/page/";var n=d.icon;var c=d.abrrev;var b=(n=="")?["/customize?default_tab="+p[i].arena,h]:[m+c,n];if(typeof(n)=="undefined"){o.push("<li><a href='"+a+b[0]+"'>"+b[1]+"</a></li>")}else{j.push("<li><a href='"+a+b[0]+"'>"+b[1]+"</a></li>")}}d=n=c=b=null;try{g.innerHTML='<ul id="teamsList">'+j.join("")+o.join("")+"</ul>"}catch(l){}}return}(function(a){a.fn.innerfade=function(b){return this.each(function(){a.innerfade(this,b)})};a.innerfade=function(b,c){var e={animationtype:"fade",speed:"normal",type:"sequence",timeout:2000,containerheight:"auto",runningclass:"innerfade",children:null};if(c){a.extend(e,c)}if(e.children===null){var g=a(b).children()}else{var g=a(b).children(e.children)}if(g.length==1){a(g[0]).show()}if(g.length>1){a(b).css("position","relative").css("height",e.containerheight).addClass(e.runningclass);for(var d=0;d<g.length;d++){a(g[d]).css("z-index",String(g.length-d)).css("position","absolute").hide()}if(e.type=="sequence"){setTimeout(function(){a.innerfade.next(g,e,1,0)},e.timeout);a(g[0]).show()}else{if(e.type=="random"){var f=Math.floor(Math.random()*(g.length));setTimeout(function(){do{h=Math.floor(Math.random()*(g.length))}while(f==h);a.innerfade.next(g,e,h,f)},e.timeout);a(g[f]).show()}else{if(e.type=="random_start"){e.type="sequence";var h=Math.floor(Math.random()*(g.length));setTimeout(function(){a.innerfade.next(g,e,(h+1)%g.length,h)},e.timeout);a(g[h]).show()}else{alert("Innerfade-Type must either be 'sequence', 'random' or 'random_start'")}}}}};a.innerfade.next=function(d,b,e,c){if(b.animationtype=="slide"){a(d[c]).slideUp(b.speed);a(d[e]).slideDown(b.speed)}else{if(b.animationtype=="fade"){a(d[c]).fadeOut(b.speed);a(d[e]).fadeIn(b.speed,function(){removeFilter(a(this)[0])})}else{alert("Innerfade-animationtype must either be 'slide' or 'fade'")}}if(b.type=="sequence"){if((e+1)<d.length){e=e+1;c=e-1}else{e=0;c=d.length-1}}else{if(b.type=="random"){c=e;while(e==c){e=Math.floor(Math.random()*d.length)}}else{alert("Innerfade-Type must either be 'sequence', 'random' or 'random_start'")}}setTimeout((function(){a.innerfade.next(d,b,e,c)}),b.timeout)}})(jQuery);(function(a){a.fn.extend({tooltip:function(c){var d={caret:true,containerId:"tooltipContainer",mouseFollow:true,position:"right"},b=a.extend(d,c);return this.each(function(){var m=a(this).attr("title"),e=a(this).attr("data-tooltip"),g=a(this).attr("data-tooltip-href"),j=a(this).text(),o=false,l,h,n,f="#"+b.containerId;if(g){l='<div class="progressInd">Loading...</div>';o=true;h=g}else{if(e&&e!=""){if(e.indexOf("#")>-1){l=a(e).html()}else{l=e}a(this).attr("tooltip","")}else{if(m&&m!=""){l=m}else{if((!m&&!e)||(m==""&&e=="")){l=j}}}}if(l!=undefined){a(this).hover(function(t){var x=this,q=a(this).data("tooltip"),v=t.pageX-20,u=t.pageY+27,p,s,y,w;a(this).attr("title","");var r=(b.extraClass!=undefined)?" class="+b.extraClass:"";a("body").append('<div id="'+b.containerId+'"'+r+'><div class="content">'+l+"</div></div>");if(b.caret){a(f).prepend('<div class="caret"></div>')}if(a.browser.msie){s=a(f).outerWidth(true);p=a(f).outerHeight(true)}else{s=a(f).width();p=a(f).height()}if(b.width){a(f).width(parseFloat(b.width));a(f).css("max-width",parseFloat(b.width))}else{a(f).width(s)}a(f).css("left",v).css("top",u).fadeIn();if(v+s>a(window).scrollLeft()+a(window).width()){y=s-29}else{y=8}if(a(window).height()+a(window).scrollTop()<u+p){u-=15;w=p-3;a(f+" .caret").addClass("bottom")}else{w=-10;a(f+" .caret").removeClass("bottom")}a(f+" .caret").css("left",y).css("top",w);if(o){if(q){a(f+" .progressInd").hide();a(f+" .content").append(q.content);a(f).width(q.width)}else{n=setTimeout(function(){a.ajax({url:h,success:function(z){a(f+" .progressInd").fadeOut("fast",function(){a(f+" .content").hide().append(z);a(f).animate({width:a(f+" .content").width(),height:a(f+" .content").height()},{duration:100,complete:function(){a(f+" .content").fadeIn("fast")}});var A=a(f+" .content").width();a(x).data("tooltip",{content:z,width:A})})},error:function(){a(f+" .content").html('<p class="error">Unable to load</p>')},dataType:"html"})},500)}}},function(){if(o){clearTimeout(n)}a(f).remove();a(this).attr("title",m)});a(this).mousemove(function(v){if(!b.mouseFollow){return}var t=v.pageX-20,s=v.pageY+27,p=a(f).outerWidth(true),u=a(f).outerHeight(true),r,q;if(t+p>a(window).scrollLeft()+a(window).width()){t=v.pageX-p;r=p-29}else{r=8}if(a(window).height()+a(window).scrollTop()<s+u){s=v.pageY-u-15;q=u-3;a(f+" .caret").addClass("bottom")}else{q=-11;a(f+" .caret").removeClass("bottom")}a(f+" .caret").css("left",r).css("top",q);a(f).css("left",t).css("top",s).fadeIn()})}})}})})(jQuery);CBSi.namespace("app.VideoPlayer.Coverlist");CBSi.app.VideoPlayer.Coverlist={init:function(){var a=$("#coverList .content li[data-video-pid]");a.each(function(){$(this).prepend('<a href="#" class="play btn"></a>');$(this).children(".play").data("videoData",{pid:$(this).attr("data-video-pid")});$(this).parents("#coverList").css("background-color","#000")});a.find(".play").click(function(c){c.preventDefault();var b=$(this).data("videoData").pid;if($("#videoLoader").length){$("#coverList .content").css("visibility","hidden");$("#videoLoader").css("visibility","visible");if(IE){CBSi.app.VideoPlayer.Coverlist._buildVideoObject(b)}else{try{cbsiPlayer.setShowAd(false);cbsiPlayer.playVideo(b)}catch(c){}}}else{$("#coverList").css("position","relative");$("#coverList").prepend('<div id="videoLoader" class="progressInd"></div>');$("#coverList .content").fadeOut("slow",function(){$(this).css({display:"block",visibility:"hidden"});$.getScript(CBSi.imageServer+"/js/swfobject/latest/swfobject-min.js",function(){$.getScript(CBSi.imageServer+"/js/CBSi/app/VideoPlayer/UVP-min.js",function(){CBSi.app.VideoPlayer.Coverlist._buildVideoObject(b,"#videoLoader")})})})}})},_addStopButton:function(a){$(a).append('<a href="#" class="stop btn"></a>').hover(function(){if(!cbsiPlayer.isInAd){$(".stop.btn").fadeIn()}$(this).addClass("hover")},function(){$(".stop.btn").fadeOut();$(this).removeClass("hover")}).mouseover(function(){if(!$(this).hasClass("hover")){$(this).addClass("hover")}});$(".stop.btn").click(function(b){b.preventDefault();try{cbsiPlayer.api.stopVideo();if(CBSi.app.VideoPlayer.openedOverlayName){cbsiPlayer.api.activateOverlay(CBSi.app.VideoPlayer.openedOverlayName,"off")}}catch(b){}if($("#coverList .content").css("visibility")=="hidden"){$("#coverList .content").css("visibility","visible");$("#videoLoader").css("visibility","hidden")}$("#videoLoader").remove()})},_buildVideoObject:function(a,b){$.ajax({url:"/video/player/embed-cover/videos/"+a+"/640/360/true",success:function(c){$(b).html(c);CBSi.app.VideoPlayer.Coverlist._addStopButton(b)},error:function(){$(b).html('<p class="error">Unable to load Video. Please Try Again.</p>')},dataType:"html"})}};function removeFilter(a){if(a.style.removeAttribute){a.style.removeAttribute("filter")}}CBSi.namespace("app.Registration");CBSi.app.Registration=(function(d){var b={registrationId:"#uRegContainer",openBarId:"#openBarLogin",openBarSelector:"#openBarLogin input[type=text]",uRegSelector:"a.uRegDialog",dialogId:"uRegModal",dialogClass:"cbsiDialog"};var c=false;function a(f){var g=d(f).attr("action")||d(f).attr("href");if(!g){return false}CBSi.app.Registration.targetUrl=g;CBSi.app.Registration.Dialog.init(CBSi.app.Registration)}function e(g){if(typeof(g)!="object"){g={}}this.isDebug=(typeof(g.debug)!="undefined")?g.debug:0;this.isNamed=(typeof(g.isNamed)!="undefined")?g.isNamed:0;var f=this;if(d(b.openBarId)||d(b.uRegSelector)){d(b.uRegSelector).each(function(h){d(this).click(function(){a(this);return false})});d(this.config.openBarId).submit(function(h){a(this);return false});if(CBSi.app.Registration.dialogScript!=true){d.getScript(CBSi.imageServer+"/js/CBSi/app/Registration/Dialog.js",function(){CBSi.app.Registration.dialogScript=true})}if(d("#"+b.dialogId).length<1){d("body").append('<div class="'+b.dialogClass+'"></div>');d("."+b.dialogClass).attr("id",b.dialogId)}}return this}return{init:e,createDialog:a,config:b}})(jQuery);CBSi.namespace("app.Form.Core");(function(b){var a={formLayoutSel:".formLayout",fieldHelpSel:".help",placeHolderAttr:"data-field-placeholder",requiredAttr:"data-field-required",fieldPlaceHolderClass:"placeHolder",fieldErrorClass:"fieldError"};CBSi.app.Form.Core={init:function(c){b(a.formLayoutSel).delegate("input[type!=submit], textarea, select","focus",function(h){var g=b(this).attr("value");var f=b(this).attr(a.placeHolderAttr);var d=b(this).parent().siblings().filter(a.fieldHelpSel);b(this).removeClass(a.fieldPlaceHolderClass);if(f!=undefined){if(f===g){b(this).attr("value","")}}b(this).removeClass(a.fieldErrorClass);if(b(d).length>0&&b(d).text()){b(d).show()}});b(a.formLayoutSel).delegate("input[type!=submit], textarea, select","blur",function(h){var g=b(this).attr("value");var f=b(this).attr(a.placeHolderAttr);var d=b(this).attr(a.placeHolderAttr);if(f!=undefined&&!g){b(this).addClass(a.fieldPlaceHolderClass);b(this).attr("value",f)}if(!d&&!f&&!g){b(this).addClass(a.fieldErrorClass)}})},toggleRequired:function(e){if(typeof(e)!="object"){e={}}var f=e.action;var d=(e.fields&&b(e.fields).length>0)?b(e.fields).filter("["+a.requiredAttr+"=1]"):b(a.formLayoutSel+" input["+a.requiredAttr+"=1]");if(f=="hide"){b(d).removeClass(a.fieldErrorClass)}else{var c=false;b(d).each(function(j){var g=b(this).attr(a.placeHolderAttr);var h=b(this).attr("value");if(!h||(g==h)){b(this).addClass(a.fieldErrorClass);c=true}});if(c==true){return{code:0,desc:"error",msg:"Missing required fields"}}else{return{code:1}}}return}}})(jQuery);